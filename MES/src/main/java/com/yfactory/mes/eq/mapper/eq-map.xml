<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yfactory.mes.eq.mapper.EquipMapper">

<!-- 모달창에 설비 코드와 설비명 출력 쿼리-->
<select id="searchEq" resultType="map" >


	SELECT EQ_CD "설비코드" , EQ_NM "설비명"
	FROM EQ "eq"
	
</select>

<!-- 모달창에서 클릭한 데이터(설비코드)를 기반으로 코드와 이름을 가지고 오는 쿼리 -->
<select id="selectEq" resultType="map">
	SELECT EQ_CD "설비코드" , EQ_NM "설비명"
	FROM EQ "eq"
	WHERE EQ_CD = #{eqCd} 

</select>


<insert id="insertEq" statementType="CALLABLE" parameterType="com.yfactory.mes.eq.vo.EqVO">
	{call eq_insert(#{vdr_code}, #{eq_nm}, #{eq_min}, #{eq_max} , 
				#{eq_chkcyc}, #{eq_mdno} ,#{eq_purdt} , #{eq_actst}, #{eq_uph},
				#{eq_inster} , #{uuid} , #{eq_mdnm}, #{img_path}, #{img_nm}
				)
	}			
</insert>

	<!-- INSERT INTO EQ(
							  EQ_CD , VDR_CODE , EQ_NM , EQ_MIN , EQ_MAX , 
							  EQ_CHKCYC , EQ_MDNO , EQ_PURDT , EQ_ACTST , EQ_UPH , 
							  EQ_INSTER , UUID, EQ_MDNM
							  )
	VALUES(
				#{eq_cd}, #{vdr_code}, #{eq_nm}, #{eq_min}, #{eq_max} , 
				#{eq_chkcyc}, #{eq_mdno} ,#{eq_purdt} , #{eq_actst}, #{eq_uph},
				#{eq_inster} , #{uuid} , #{eq_mdnm}
				) -->


</mapper>